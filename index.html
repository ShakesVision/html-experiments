<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/images/icon.png" type="image/png" sizes="16x16">
    <title>My Web Experiments</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 font-sans">

    <!-- Master Page Header -->
    <header class="flex bg-[#572828] text-white text-center justify-center align-center
    p-6">
        <img class="size-20 mr-2" src="assets/images/icon.png" alt="logo">
        <div class="text-left">
            <h1 class="text-4xl font-bold">My Web Experiments</h1>
            <p class="mt-2 text-lg">Explore my collection of web experiments, mostly built with HTML, Tailwind, and Js.
            </p>
        </div>
    </header>

    <!-- Search Bar -->
    <div class="p-6 flex justify-center">
        <input id="searchBox" type="text" placeholder="Search Projects..."
            class="p-3 w-1/2 border border-gray-300 rounded-md">
    </div>

    <!-- Project Cards -->
    <div id="projectsContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6"></div>


    <script>
        // Search functionality
        const searchBox = document.getElementById("searchBox");
        const projectCards = document.querySelectorAll(".project-card");

        searchBox.setAttribute("placeholder", `Search in ${projectCards.length} Projects...`);
        searchBox.addEventListener("input", function () {
            const searchQuery = searchBox.value.toLowerCase();

            projectCards.forEach(card => {
                const projectName = card.getAttribute("data-name").toLowerCase();
                const projectHeading = card.querySelector("h3").textContent.toLowerCase();
                const projectDescription = card.querySelector("p").textContent.toLowerCase();
                if (projectName.includes(searchQuery) || projectHeading.includes(searchQuery) || projectDescription.includes(searchQuery)) {
                    card.style.display = "block";
                } else {
                    card.style.display = "none";
                }
            });
        });
    </script>
    <script>
        async function loadProjects() {
            const res = await fetch("projects.json");
            const projects = await res.json();

            const container = document.getElementById("projectsContainer");

            container.innerHTML = projects
                .map(p => `
      <div class="project-card" data-name="#${p.id}">
        <div class="bg-white p-4 rounded-lg shadow-lg h-full flex flex-col">
          <img
            class="h-32 w-32 object-cover mx-auto rounded-full"
            src="${p.img}"
            alt="${p.title}"
          />
          <h3 class="mt-4 text-xl font-semibold text-center">
            ${p.title}
          </h3>
          <p class="text-gray-700 mt-2 text-center flex-grow">
            ${p.desc}
          </p>
          <a
            href="${p.link}"
            class="block mt-4 text-[#572828] text-center font-medium"
          >
            Go to Project
          </a>
        </div>
      </div>
    `)
                .join("");
        }

        loadProjects();
    </script>

    <script src="script.js"></script>
</body>

</html>